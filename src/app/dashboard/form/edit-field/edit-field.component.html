<div class="overflow-hidden p-4">

  <div fxLayout="row" fxLayoutAlign="space-evenly center">
    <mat-icon color="accent" class='w-14'>add_task</mat-icon>
    <h3 class="whitespace-normal w-3/6"> {{formEditorService.toLang(data.name)}} </h3>
  </div>

  <div mat-dialog-content>


    <div fxLayout="row" fxLayoutAlign="space-between center" class="w-full">

      <div fxLayout="row" fxLayoutAlign="space-evenly center" class="w-full">
        <div fxLayout="column" fxLayoutAlign="space-evenly center" class="field m-6 w-full">

          <div fxLayout="row" fxLayoutAlign="space-evenly center" style="margin-bottom: 10px;" class="w-full">

            <span *ngIf="data.isRequired">{{"required" | translate}}</span>
            <mat-icon *ngIf="data.isRequired" (click)="data.isRequired=false" color="accent" class="icon-display pl-3">
              toggle_on
            </mat-icon>

            <span *ngIf="!data.isRequired"> {{"not required"| translate}}</span>
            <mat-icon *ngIf="!data.isRequired" (click)="data.isRequired=true" class="icon-display pl-3">toggle_off
            </mat-icon>
          </div>

          <mat-form-field *ngIf="data.fieldType >=0" class="w-full">
            <mat-label>English Label</mat-label>
            <input type="text" [(ngModel)]="data.name.en" matInput max="200" />
          </mat-form-field>

          <mat-form-field *ngIf="data.fieldType >=0" class="w-full">
            <mat-label>Arabic Label</mat-label>
            <input type="text" [(ngModel)]="data.name.ar" matInput max="200" />
          </mat-form-field>

          <mat-form-field *ngIf="data.fieldType == +type.Text || data.fieldType == +type.TextArea" class="w-full">
            <mat-label>English Placeholder</mat-label>
            <input type="text" [(ngModel)]="data.placeholder.en" matInput />
          </mat-form-field>

          <mat-form-field *ngIf="data.fieldType == +type.Text || data.fieldType == +type.TextArea" class="w-full">
            <mat-label>Arabic Placeholder</mat-label>
            <input type="text" [(ngModel)]="data.placeholder.ar" matInput />
          </mat-form-field>

          <mat-form-field *ngIf="data.fieldType == +type.Text " class="w-full">
            <mat-label>Regex</mat-label>
            <input type="text" [(ngModel)]="data.regex" matInput />
          </mat-form-field>

          <mat-form-field *ngIf="data.fieldType == +type.Result " class="w-full">
            <mat-label>Equation</mat-label>
            <input type="text" [(ngModel)]="data.equation" matInput />
          </mat-form-field>

        </div>

        <!-- number -->

        <!-- <div *ngIf="data.fieldType=='number' || data.fieldType == 0" fxLayout="column" fxLayoutAlign="space-evenly center" -->
        <!-- <div fxLayout="column" fxLayoutAlign="space-evenly center"
            class="m-6 w-full">

            <mat-form-field class="w-full">
              <mat-label>{{"Min" |translate}}</mat-label>
              <input type="text" [(ngModel)]="data.min" matInput />
            </mat-form-field>

            <mat-form-field class="w-full">
              <mat-label>{{"Max" | translate}}</mat-label>
              <input type="text" [(ngModel)]="data.max" matInput />
            </mat-form-field>

          </div> -->
      </div>

      <!-- radio || checkbox || select -->
      <div class="field w-full"
        *ngIf="data.fieldType == +type.CheckBox || data.fieldType == +type.Radio || data.fieldType == +type.Select"
        fxLayout="column" fxLayoutAlign="space-evenly center">

        <div *ngFor="let i of data.dataValues; let valueIndex = index;">
          <div class="w-full flex flex-nowrap justify-between items-center justify-center m-4">
            <mat-label class="whitespace-normal w-3/6">{{formEditorService.toLang(i.value)}}</mat-label>
            <mat-icon (click)="openDialog(i,valueIndex)" color="primary"> expand_more</mat-icon>
            <mat-icon (click)="data.dataValues.splice(valueIndex,1)" mat-fab color="primary">delete</mat-icon>
          </div>
        </div>
        <div fxLayout="row" fxLayoutAlign="space-evenly center">
          <div fxLayout="column" fxLayoutAlign="space-evenly center">
            <mat-form-field>
              <mat-label>English value</mat-label>
              <input type="text" [(ngModel)]="value.en" matInput />
            </mat-form-field>

            <mat-form-field>
              <mat-label>Arabic value</mat-label>
              <input type="text" [(ngModel)]="value.ar" matInput />
            </mat-form-field>
          </div>
          <mat-icon (click)="addValue(data.dataValues)" mat-fab color="primary" class="">control_point</mat-icon>
        </div>
      </div>
    </div>
  </div>
  <div mat-dialog-actions fxLayout="row" fxLayoutAlign="center center">
    <button mat-button [mat-dialog-close]="data" mat-raised-button color="primary">{{"Yes" | translate}}</button>
    <button mat-button [mat-dialog-close]="false" mat-raised-button color="primary">{{"No" | translate}}</button>
  </div>

</div>
